<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dreamscape Empire | Luxury & Games</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --magic-purple: #8a2be2;
            --dream-gold: #ffd700;
            --ocean-blue: #4ca1af;
            --deep-space: #0d0d2b;
        }

        body {
            background-color: var(--deep-space);
            color: white;
            font-family: 'Quicksand', sans-serif;
            margin: 0;
            text-align: center;
            overflow-x: hidden;
        }

        /* --- UI ELEMENTS --- */
        #snow-canvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 99; }
        .header-brand { padding: 60px 20px; background: linear-gradient(to bottom, #1a1a40, var(--deep-space)); }
        h1 { font-family: 'Montserrat', sans-serif; font-size: 3.5rem; margin: 0; background: linear-gradient(to right, #fff, var(--magic-purple)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        /* --- SHOPPING CART --- */
        .cart-status { position: fixed; top: 20px; right: 20px; background: rgba(138, 43, 226, 0.8); padding: 15px; border-radius: 20px; backdrop-filter: blur(5px); z-index: 1000; border: 1px solid white; }

        /* --- NEW GAME: CUPCAKE RAIN --- */
        .arcade-box { background: #000; margin: 40px auto; width: 90%; max-width: 600px; border-radius: 30px; padding: 20px; border: 3px solid var(--ocean-blue); position: relative; }
        #rain-game { width: 100%; height: 400px; background: #050515; position: relative; overflow: hidden; border-radius: 20px; touch-action: none; }
        #player { width: 80px; height: 20px; background: var(--dream-gold); position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); border-radius: 10px; box-shadow: 0 0 15px var(--dream-gold); }
        .falling-cupcake { position: absolute; font-size: 30px; }

        /* --- REAL MESSAGING BOX --- */
        /* --- code for key thing is SNOWDAY2026 ---*/
        .contact-section { background: rgba(255,255,255,0.05); padding: 40px; margin: 40px auto; width: 80%; max-width: 500px; border-radius: 30px; border: 2px solid var(--magic-purple); }
        .contact-section input, .contact-section textarea { width: 90%; padding: 12px; margin: 10px 0; border-radius: 15px; border: none; background: #1a1a2e; color: white; }
        
        .btn { background: var(--magic-purple); color: white; border: none; padding: 15px 30px; border-radius: 50px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .btn:hover { transform: scale(1.1); box-shadow: 0 0 20px #ff00ff; }
    </style>
</head>
<body>

    <canvas id="snow-canvas"></canvas>

    <div class="cart-status">
        üõí Cart: <span id="cart-count">0</span> | Total: $<span id="cart-total">0</span>
    </div>

    <section class="header-brand">
        <h1>DREAMSCAPE</h1>
        <p>Luxury treats, falling stars, and digital wonders.</p>
    </section>

    <section class="arcade-box">
        <h2>üåßÔ∏è MINI-GAME: Cupcake Rain</h2>
        <p>Use your mouse/finger to move the Golden Plate!</p>
        <div id="rain-game">
            <div id="player"></div>
        </div>
        <h3>Catch Score: <span id="rain-score">0</span></h3>
        <button class="btn" onclick="startRainGame()">Start Catching</button>
    </section>

    <section class="contact-section">
        <h2>üìß Message HQ</h2>
        <p>These messages go straight to the CEO's desk!</p>
        
        <form action="https://formspree.io/f/YOUR_FORM_ID" method="POST">
            <input type="text" name="name" placeholder="Your Name" required>
            <input type="email" name="_replyto" placeholder="Your Email" required>
            <textarea name="message" placeholder="Type your secret idea here..." required></textarea>
            <input type="hidden" name="_subject" value="New Dreamscape Suggestion!">
            <button type="submit" class="btn">Send Message üöÄ</button>
        </form>
    </section>

    <footer>
        <p>&copy; 2026 Dreamscape Empire | Coded in a Blizzard</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script>
        // --- CUPCAKE RAIN GAME LOGIC ---
        let rainScore = 0;
        const gameContainer = document.getElementById('rain-game');
        const player = document.getElementById('player');
        let gameActive = false;

        // Move player with mouse or touch
        gameContainer.addEventListener('mousemove', (e) => {
            let rect = gameContainer.getBoundingClientRect();
            let x = e.clientX - rect.left;
            player.style.left = x + 'px';
        });

        function startRainGame() {
            if(gameActive) return;
            gameActive = true;
            rainScore = 0;
            document.getElementById('rain-score').innerText = rainScore;
            spawnCupcake();
        }

        function spawnCupcake() {
            if(!gameActive) return;
            const cupcake = document.createElement('div');
            cupcake.className = 'falling-cupcake';
            cupcake.innerText = 'üßÅ';
            cupcake.style.left = Math.random() * (gameContainer.clientWidth - 30) + 'px';
            cupcake.style.top = '0px';
            gameContainer.appendChild(cupcake);

            let fallInterval = setInterval(() => {
                let top = parseInt(cupcake.style.top);
                cupcake.style.top = (top + 5) + 'px';

                // Check for collision
                let cRect = cupcake.getBoundingClientRect();
                let pRect = player.getBoundingClientRect();

                if (cRect.bottom >= pRect.top && cRect.left < pRect.right && cRect.right > pRect.left) {
                    rainScore++;
                    document.getElementById('rain-score').innerText = rainScore;
                    cupcake.remove();
                    clearInterval(fallInterval);
                    confetti({ particleCount: 10, ticks: 20, origin: { y: 0.7 } });
                }

                if (top > gameContainer.clientHeight) {
                    cupcake.remove();
                    clearInterval(fallInterval);
                }
            }, 20);

            setTimeout(spawnCupcake, 1000);
        }

        // --- SNOW SYSTEM (Same as before) ---
        const canvas = document.getElementById('snow-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        let flakes = [];
        for(let i=0; i<100; i++) flakes.push({x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: Math.random()*3+1, d: Math.random()+0.5});
        function drawSnow() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "white";
            ctx.beginPath();
            flakes.forEach(f => {
                ctx.moveTo(f.x, f.y);
                ctx.arc(f.x, f.y, f.r, 0, Math.PI*2);
                f.y += f.d;
                if(f.y > canvas.height) f.y = -10;
            });
            ctx.fill();
            requestAnimationFrame(drawSnow);
        }
        drawSnow();
    </script>
</body>
</html>
