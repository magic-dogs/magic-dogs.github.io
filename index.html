<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon-Inspired Shop</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --amazon-blue: #131921;
            --amazon-orange: #ff9900;
            --amazon-yellow: #f7ca00;
            --link-blue: #007185;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #FCE4EC; /* Updated to pink */
            color: var(--amazon-blue);
        }

        .header-bg {
            background-color: var(--amazon-blue);
        }
        
        .search-bar {
            background-color: #fff;
            border: 1px solid transparent;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .search-input {
            width: 100%;
            border: none;
            padding: 8px 12px;
            outline: none;
        }
        
        .search-btn {
            background-color: var(--amazon-yellow);
            color: var(--amazon-blue);
            padding: 8px 12px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .search-btn:hover {
            background-color: #f7c040;
        }

        .product-card {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: box-shadow 0.2s ease-in-out;
            border: 1px solid #ddd;
        }
        
        .product-card:hover {
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .chat-message {
            max-width: 80%;
            padding: 0.75rem 1rem;
            border-radius: 1.5rem;
            margin-bottom: 0.75rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .message-user {
            background-color: #e3f2fd;
            align-self: flex-end;
            margin-left: auto;
        }

        .message-bot {
            background-color: #fafafa;
            align-self: flex-start;
        }

        .loading-dot {
            animation: bounce 0.8s infinite;
        }

        .loading-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .loading-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes bounce {
            0%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-5px);
            }
        }
        
        .game-icon {
            font-size: 3rem;
            cursor: pointer;
            transition: transform 0.2s ease-in-out;
        }
        .game-icon:hover {
            transform: scale(1.1);
        }
        
        .cell-hover:hover {
            background-color: #e2e8f0;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col p-4 md:p-8">

    <!-- Header -->
    <header class="header-bg w-full py-3 px-6 text-white flex flex-col md:flex-row items-center justify-between shadow-lg rounded-t-lg">
        <div class="flex items-center space-x-4 mb-4 md:mb-0 w-full md:w-auto">
            <h1 class="text-3xl font-bold">
                <span class="text-white">Rose</span><span class="text-link-blue">gold</span>
            </h1>
            <div class="hidden md:flex text-sm items-center space-x-2">
                <p>Deliver to</p>
                <p class="font-bold">New York 10001</p>
            </div>
        </div>
        <div class="flex items-center w-full md:w-2/5 search-bar">
            <!-- Search functionality is for a front-end demo only and requires a back-end to work. -->
            <input type="text" id="search-input" placeholder="Search" class="search-input">
            <button id="search-btn" class="search-btn">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                </svg>
            </button>
        </div>
        <nav class="flex items-center space-x-4 mt-4 md:mt-0 w-full md:w-auto justify-center md:justify-end text-sm">
            <a href="#" class="hover:text-gray-300">Returns & Orders</a>
            <a href="#" class="hover:text-gray-300">Cart</a>
            <button onclick="showPage('games-page')" class="bg-link-blue text-white font-bold py-2 px-4 rounded-md hover:bg-opacity-80 transition transform hover:scale-105 cursor-pointer">
                Play Games! üéÆ
            </button>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="w-full max-w-7xl mx-auto mt-8 flex-grow">
        <!-- Shop & Chat Page -->
        <div id="shop-page" class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Product Grid Section -->
            <section class="lg:col-span-2 bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold text-link-blue mb-6">
                    Featured Products
                </h2>
                <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
                    <!-- Product 1 -->
                    <div class="product-card p-4" data-title="Custom Photo Resin Coaster" data-description="A beautiful, personalized coaster with your uploaded photo.">
                        <img src="https://placehold.co/300x300/e0e0e0/555555?text=Your+Photo+Coaster" alt="Custom Photo Resin Coaster" class="w-full h-auto rounded-md mb-3">
                        <h3 class="font-bold text-lg text-amazon-blue">Custom Photo Resin Coaster</h3>
                        <p class="text-gray-600">A beautiful, personalized coaster with your uploaded photo.</p>
                        <p class="text-xl font-bold text-amazon-blue mt-2">$49.99</p>
                        <button onclick="buyItem('Custom Photo Resin Coaster')" class="w-full bg-amazon-orange text-black font-bold py-2 rounded-lg mt-3 hover:bg-amazon-yellow transition cursor-pointer">
                            Add to Cart
                        </button>
                    </div>

                    <!-- Product 2 -->
                    <div class="product-card p-4" data-title="Agate Style Resin Coaster Set" data-description="A beautiful set of four geode-inspired coasters.">
                        <img src="https://placehold.co/300x300/e0e0e0/555555?text=Agate+Coasters" alt="Agate Style Resin Coaster Set" class="w-full h-auto rounded-md mb-3">
                        <h3 class="font-bold text-lg text-amazon-blue">Agate Style Resin Coaster Set</h3>
                        <p class="text-gray-600">A beautiful set of four geode-inspired coasters.</p>
                        <p class="text-xl font-bold text-amazon-blue mt-2">$19.50</p>
                        <button onclick="buyItem('Agate Style Resin Coaster Set')" class="w-full bg-amazon-orange text-black font-bold py-2 rounded-lg mt-3 hover:bg-amazon-yellow transition cursor-pointer">
                            Add to Cart
                        </button>
                    </div>

                    <!-- Product 3 -->
                    <div class="product-card p-4" data-title="Marble Effect Resin Coaster" data-description="Stunning single coaster with a unique marble effect.">
                        <img src="https://placehold.co/300x300/e0e0e0/555555?text=Marble+Coaster" alt="Marble Effect Resin Coaster" class="w-full h-auto rounded-md mb-3">
                        <h3 class="font-bold text-lg text-amazon-blue">Marble Effect Resin Coaster</h3>
                        <p class="text-gray-600">Stunning single coaster with a unique marble effect.</p>
                        <p class="text-xl font-bold text-amazon-blue mt-2">$12.99</p>
                        <button onclick="buyItem('Marble Effect Resin Coaster')" class="w-full bg-amazon-orange text-black font-bold py-2 rounded-lg mt-3 hover:bg-amazon-yellow transition cursor-pointer">
                            Add to Cart
                        </button>
                    </div>

                    <!-- New Product 4 -->
                    <div class="product-card p-4" data-title="Epoxy River Table" data-description="A beautiful, handcrafted table with a blue epoxy river inlay.">
                        <img src="https://placehold.co/300x300/e0e0e0/555555?text=Epoxy+Table" alt="Epoxy River Table" class="w-full h-auto rounded-md mb-3">
                        <h3 class="font-bold text-lg text-amazon-blue">Epoxy River Table</h3>
                        <p class="text-gray-600">A handcrafted wooden table with a stunning blue river effect.</p>
                        <p class="text-xl font-bold text-amazon-blue mt-2">$899.99</p>
                        <button onclick="buyItem('Epoxy River Table')" class="w-full bg-amazon-orange text-black font-bold py-2 rounded-lg mt-3 hover:bg-amazon-yellow transition cursor-pointer">
                            Add to Cart
                        </button>
                    </div>

                    <!-- New Product 5 -->
                    <div class="product-card p-4" data-title="Geode Resin Art" data-description="A large wall art piece inspired by natural geodes.">
                        <img src="https://placehold.co/300x300/e0e0e0/555555?text=Geode+Art" alt="Geode Resin Art" class="w-full h-auto rounded-md mb-3">
                        <h3 class="font-bold text-lg text-amazon-blue">Geode Resin Art</h3>
                        <p class="text-gray-600">Stunning wall art with crystal-like details and gold leaf accents.</p>
                        <p class="text-xl font-bold text-amazon-blue mt-2">$249.99</p>
                        <button onclick="buyItem('Geode Resin Art')" class="w-full bg-amazon-orange text-black font-bold py-2 rounded-lg mt-3 hover:bg-amazon-yellow transition cursor-pointer">
                            Add to Cart
                        </button>
                    </div>

                    <!-- New Product 6 -->
                    <div class="product-card p-4" data-title="Resin Keychain" data-description="A small, custom resin keychain with embedded dried flowers.">
                        <img src="https://placehold.co/300x300/e0e0e0/555555?text=Resin+Keychain" alt="Resin Keychain" class="w-full h-auto rounded-md mb-3">
                        <h3 class="font-bold text-lg text-amazon-blue">Resin Keychain</h3>
                        <p class="text-gray-600">A personalized keychain with a floral design.</p>
                        <p class="text-xl font-bold text-amazon-blue mt-2">$9.99</p>
                        <button onclick="buyItem('Resin Keychain')" class="w-full bg-amazon-orange text-black font-bold py-2 rounded-lg mt-3 hover:bg-amazon-yellow transition cursor-pointer">
                            Add to Cart
                        </button>
                    </div>
                </div>
            </section>

            <!-- Chatbot Section -->
            <section class="bg-white p-6 rounded-lg shadow-lg h-full flex flex-col">
                <h2 class="text-2xl font-bold text-link-blue mb-4 text-center">
                    ü§ñ Ask Rosie! ü§ñ
                </h2>
                <div id="chat-box" class="flex-grow scrollable bg-[#f9f9f9] p-4 rounded-md border border-gray-200 flex flex-col space-y-3 mb-4">
                    <div class="chat-message message-bot">Hi there! I'm Rosie! What can I help you with today? Or, you know, just ask me a silly question!</div>
                </div>

                <!-- Input and Send Button -->
                <div class="flex items-center space-x-2">
                    <input type="text" id="chat-input" placeholder="Ask me something funny!" class="flex-grow p-3 rounded-md border border-gray-300 outline-none focus:border-link-blue">
                    <button id="send-btn" onclick="sendMessage()" class="bg-amazon-orange text-black font-bold py-3 px-6 rounded-md hover:bg-amazon-yellow transition cursor-pointer">
                        Send!
                    </button>
                </div>
                <!-- Loading indicator -->
                <div id="loading-indicator" class="mt-4 text-center text-gray-500 hidden">
                    <span class="inline-block w-2 h-2 bg-gray-500 rounded-full loading-dot mx-1"></span>
                    <span class="inline-block w-2 h-2 bg-gray-500 rounded-full loading-dot mx-1"></span>
                    <span class="inline-block w-2 h-2 bg-gray-500 rounded-full loading-dot mx-1"></span>
                </div>
            </section>
        </div>

        <!-- Games Page -->
        <div id="games-page" class="hidden grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <section class="bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold text-link-blue mb-6 text-center">
                    üåà Guess the Color! üé®
                </h2>
                <div class="text-center mb-4">
                    <p class="text-sm text-gray-600">Try to guess the color I'm thinking of!</p>
                    <div id="game-color-box" class="w-24 h-24 mx-auto my-4 rounded-md shadow-md border-2 border-link-blue bg-gray-300"></div>
                </div>
                <div class="flex flex-col items-center space-y-2">
                    <input type="text" id="game-input" placeholder="Type your guess here (e.g., pink)" class="p-3 w-full rounded-md border border-gray-300 outline-none focus:border-link-blue">
                    <button id="game-btn" onclick="checkGuess()" class="w-full bg-amazon-orange text-black font-bold py-2 rounded-md hover:bg-amazon-yellow transition cursor-pointer">
                        Guess!
                    </button>
                </div>
                <p id="game-message" class="text-center mt-4 text-sm font-bold text-link-blue"></p>
            </section>
            
            <section class="bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold text-link-blue mb-6 text-center">
                    ü™® Rock, Paper, Scissors ‚úÇÔ∏è
                </h2>
                <div class="text-center mb-4">
                    <p id="rps-message" class="text-sm text-gray-600">Choose your move!</p>
                    <p id="rps-result" class="text-lg font-bold text-amazon-blue mt-2"></p>
                </div>
                <div class="flex items-center justify-center space-x-6">
                    <div onclick="playRPS('rock')" class="game-icon">ü™®</div>
                    <div onclick="playRPS('paper')" class="game-icon">üìÑ</div>
                    <div onclick="playRPS('scissors')" class="game-icon">‚úÇÔ∏è</div>
                </div>
                <div class="text-center mt-6">
                    <p id="rps-score" class="text-sm font-bold text-amazon-blue"></p>
                </div>
            </section>

            <!-- New Tic-Tac-Toe Game -->
            <section class="bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold text-link-blue mb-6 text-center">
                    ‚ùå Tic-Tac-Toe ‚≠ï
                </h2>
                <div class="flex flex-col items-center">
                    <p id="tictactoe-status" class="text-lg font-bold text-amazon-blue mb-4">Player X's turn</p>
                    <div id="tictactoe-board" class="grid grid-cols-3 gap-2">
                        <!-- Board cells will be generated here -->
                    </div>
                    <button onclick="resetTicTacToe()" class="bg-link-blue text-white font-bold py-2 px-6 rounded-md hover:bg-opacity-80 transition mt-4 cursor-pointer">
                        Reset Game
                    </button>
                </div>
            </section>

            <button onclick="showPage('shop-page')" class="bg-link-blue text-white font-bold py-3 px-6 rounded-md hover:bg-opacity-80 transition mt-6 mx-auto col-span-1 md:col-span-2 lg:col-span-3 cursor-pointer">
                Back to Shop üõçÔ∏è
            </button>
        </div>
    </main>

    <!-- Custom Modal for Alerts (replacing alert()) -->
    <div id="custom-modal" class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center p-4 hidden">
        <div class="bg-white rounded-lg p-8 max-w-sm w-full text-center border-2 border-link-blue shadow-xl relative">
            <button onclick="closeModal()" class="absolute top-2 right-4 text-2xl font-bold text-gray-400 hover:text-gray-600 transition cursor-pointer">&times;</button>
            <p id="modal-text" class="text-lg font-bold text-amazon-blue mb-4"></p>
            <button onclick="closeModal()" class="bg-link-blue text-white font-bold py-2 px-6 rounded-md hover:bg-opacity-80 transition cursor-pointer">OK</button>
        </div>
    </div>

    <script>
        // API key is not required for this model in this environment.
        const apiKey = "";
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

        const shopPage = document.getElementById('shop-page');
        const gamesPage = document.getElementById('games-page');
        const chatBox = document.getElementById('chat-box');
        const chatInput = document.getElementById('chat-input');
        const sendBtn = document.getElementById('send-btn');
        const loadingIndicator = document.getElementById('loading-indicator');
        const customModal = document.getElementById('custom-modal');
        const modalText = document.getElementById('modal-text');
        
        let chatHistory = [];

        // Game variables
        const gameColorBox = document.getElementById('game-color-box');
        const gameInput = document.getElementById('game-input');
        const gameMessage = document.getElementById('game-message');
        const colors = {
            "pink": "#FFC0CB",
            "blue": "#ADD8E6",
            "purple": "#E6E6FA",
            "yellow": "#FFFFE0",
            "green": "#90EE90",
            "orange": "#FFDAB9"
        };
        let targetColorName = '';

        // RPS Game Variables
        const rpsMessage = document.getElementById('rps-message');
        const rpsResult = document.getElementById('rps-result');
        const rpsScoreDisplay = document.getElementById('rps-score');
        let rpsScore = { player: 0, bot: 0 };

        // Tic-Tac-Toe Game Variables
        const tictactoeBoard = document.getElementById('tictactoe-board');
        const tictactoeStatus = document.getElementById('tictactoe-status');
        let tictactoeCells = Array(9).fill('');
        let tictactoeCurrentPlayer = 'X';
        let tictactoeGameActive = true;

        // Function to switch between pages
        function showPage(pageId) {
            console.log(`Switching to page: ${pageId}`);
            shopPage.classList.add('hidden');
            gamesPage.classList.add('hidden');
            document.getElementById(pageId).classList.remove('hidden');
        }

        // Function to show a custom modal instead of alert()
        function showModal(message) {
            console.log(`Showing modal with message: ${message}`);
            modalText.textContent = message;
            customModal.classList.remove('hidden');
        }

        // Function to close the custom modal
        function closeModal() {
            console.log('Closing modal.');
            customModal.classList.add('hidden');
        }

        // Function for the 'Buy Now!' button
        // Note: Payment processing is a complex feature that requires a secure back-end system and a payment gateway.
        // This button currently only shows a front-end pop-up and does not process any real payments.
        function buyItem(itemName) {
            console.log(`Attempting to add "${itemName}" to cart.`);
            showModal(`Added "${itemName}" to your cart!`);
        }

        // Helper function to create and append a chat message
        function appendMessage(sender, text) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('chat-message', `message-${sender}`);
            messageDiv.textContent = text;
            chatBox.appendChild(messageDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        // Function to make the API call to the chatbot
        async function getChatbotResponse(userMessage) {
            const systemPrompt = "You are a funny and friendly 10-year-old girl named Rosie. You love telling jokes and making people laugh. Sometimes you tell a short story or give a more detailed explanation. You should respond to questions with a cheerful and playful tone, and feel free to add emojis. If someone asks for a joke, tell them a silly, kid-friendly joke!";

            try {
                loadingIndicator.classList.remove('hidden');
                
                chatHistory.push({ role: "user", parts: [{ text: userMessage }] });

                const payload = {
                    contents: chatHistory,
                    systemInstruction: { parts: [{ text: systemPrompt }] },
                };
                
                // Add a simple visual feedback to the send button
                sendBtn.style.transform = 'scale(0.95)';
                setTimeout(() => { sendBtn.style.transform = 'scale(1)'; }, 100);

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                if (!response.ok) {
                    console.error('API response not OK:', response.status, response.statusText);
                    throw new Error('API response was not successful.');
                }

                const result = await response.json();
                const botMessage = result.candidates?.[0]?.content?.parts?.[0]?.text;
                
                if (!botMessage) {
                    throw new Error('No bot message received in the response.');
                }

                chatHistory.push({ role: "model", parts: [{ text: botMessage }] });

                loadingIndicator.classList.add('hidden');

                appendMessage('bot', botMessage);

            } catch (error) {
                console.error("Error fetching chatbot response:", error);
                loadingIndicator.classList.add('hidden');
                appendMessage('bot', "Oops! My robot brain got a little fuzzy. Can you ask me that again? ü§™ It might be a bad internet connection or something!");
            }
        }

        // Function to handle the send button click
        async function sendMessage() {
            console.log('Send button clicked.');
            const userMessage = chatInput.value.trim();
            if (userMessage === '') return;

            chatInput.value = '';
            appendMessage('user', userMessage);

            await getChatbotResponse(userMessage);
        }

        // New function to filter products based on search input
        function filterProducts() {
            const searchInput = document.getElementById('search-input');
            const query = searchInput.value.toLowerCase();
            const products = document.querySelectorAll('.product-card');

            products.forEach(product => {
                const title = product.getAttribute('data-title').toLowerCase();
                const description = product.getAttribute('data-description').toLowerCase();
                if (title.includes(query) || description.includes(query)) {
                    product.style.display = 'block';
                } else {
                    product.style.display = 'none';
                }
            });
        }

        // --- Guess the Color Game Functions ---
        function startGame() {
            const colorNames = Object.keys(colors);
            targetColorName = colorNames[Math.floor(Math.random() * colorNames.length)];
            gameColorBox.style.backgroundColor = colors[targetColorName];
            gameMessage.textContent = "What color am I? ü§î";
        }

        function checkGuess() {
            console.log('Guess button clicked.');
            const guess = gameInput.value.trim().toLowerCase();
            if (guess === '') {
                gameMessage.textContent = "You didn't guess anything! Silly! üòú";
                return;
            }
            if (guess === targetColorName) {
                gameMessage.textContent = `Yay! You got it right! The color was ${targetColorName}! üéâ`;
            } else {
                gameMessage.textContent = `Nope, that's not it! The color was ${targetColorName}. Let's play again! üòä`;
            }
            gameInput.value = '';
            setTimeout(startGame, 3000); // Start a new round after 3 seconds
        }

        // --- Rock, Paper, Scissors Game Functions ---
        function playRPS(playerChoice) {
            console.log(`RPS played: ${playerChoice}`);
            const choices = ['rock', 'paper', 'scissors'];
            const botChoice = choices[Math.floor(Math.random() * choices.length)];
            
            let result = '';
            if (playerChoice === botChoice) {
                result = "It's a tie! üòÖ";
            } else if (
                (playerChoice === 'rock' && botChoice === 'scissors') ||
                (playerChoice === 'paper' && botChoice === 'rock') ||
                (playerChoice === 'scissors' && botChoice === 'paper')
            ) {
                result = "You win! Yay! üéâ";
                rpsScore.player++;
            } else {
                result = "I win! Hehe! üòÇ";
                rpsScore.bot++;
            }
            
            rpsMessage.textContent = `You chose ${playerChoice} and I chose ${botChoice}.`;
            rpsResult.textContent = result;
            updateRPSScore();
        }

        function updateRPSScore() {
            rpsScoreDisplay.textContent = `Player: ${rpsScore.player} | Rosie: ${rpsScore.bot}`;
        }
        
        // --- Tic-Tac-Toe Game Functions ---
        function createBoard() {
            tictactoeBoard.innerHTML = '';
            tictactoeCells.forEach((cell, index) => {
                const cellElement = document.createElement('div');
                cellElement.classList.add('w-24', 'h-24', 'flex', 'items-center', 'justify-center', 'text-4xl', 'font-bold', 'cursor-pointer', 'bg-gray-100', 'rounded-md', 'border-2', 'border-gray-300', 'cell-hover');
                cellElement.dataset.index = index;
                cellElement.addEventListener('click', handleCellClick);
                tictactoeBoard.appendChild(cellElement);
            });
        }

        function handleCellClick(e) {
            console.log('Tic-Tac-Toe cell clicked.');
            const cell = e.target;
            const index = cell.dataset.index;
            
            if (tictactoeCells[index] !== '' || !tictactoeGameActive) {
                return;
            }
            
            tictactoeCells[index] = tictactoeCurrentPlayer;
            cell.textContent = tictactoeCurrentPlayer;
            cell.style.color = tictactoeCurrentPlayer === 'X' ? '#007185' : '#ff9900';
            
            if (checkWinner()) {
                tictactoeStatus.textContent = `Player ${tictactoeCurrentPlayer} wins! üéâ`;
                tictactoeGameActive = false;
            } else if (tictactoeCells.every(cell => cell !== '')) {
                tictactoeStatus.textContent = "It's a tie! ü§ù";
                tictactoeGameActive = false;
            } else {
                tictactoeCurrentPlayer = tictactoeCurrentPlayer === 'X' ? 'O' : 'X';
                tictactoeStatus.textContent = `Player ${tictactoeCurrentPlayer}'s turn`;
            }
        }

        function checkWinner() {
            const winConditions = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8], // Rows
                [0, 3, 6], [1, 4, 7], [2, 5, 8], // Columns
                [0, 4, 8], [2, 4, 6] // Diagonals
            ];

            for (let i = 0; i < winConditions.length; i++) {
                const [a, b, c] = winConditions[i];
                if (tictactoeCells[a] && tictactoeCells[a] === tictactoeCells[b] && tictactoeCells[a] === tictactoeCells[c]) {
                    return true;
                }
            }
            return false;
        }

        function resetTicTacToe() {
            console.log('Resetting Tic-Tac-Toe game.');
            tictactoeCells = Array(9).fill('');
            tictactoeCurrentPlayer = 'X';
            tictactoeGameActive = true;
            tictactoeStatus.textContent = "Player X's turn";
            createBoard();
        }

        // Handle the Enter key to send message or guess
        chatInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                sendMessage();
            }
        });

        gameInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                checkGuess();
            }
        });

        // Add event listeners for the search bar
        document.getElementById('search-input').addEventListener('keyup', filterProducts);
        document.getElementById('search-btn').addEventListener('click', filterProducts);

        // Start the games when the page loads
        window.onload = () => {
            console.log('Page loaded and games started.');
            startGame();
            updateRPSScore();
            createBoard();
        };
    </script>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Super Duper Smoothie Shop!</title>
 <!-- gygybyfvuyvuigvuycfuyffcyf -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap');
        body {
            font-family: 'Comic Neue', sans-serif;
            /* Make the background super colorful and happy! */
            background-image: linear-gradient(45deg, #FFC0CB, #FFD700, #98FB98, #ADD8E6, #FF69B4);
            background-size: 400% 400%;
            animation: gradient-animation 15s ease infinite;
        }
        @keyframes gradient-animation {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
        /* Style for our custom pop-up message */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 5px solid #888;
            width: 80%;
            max-width: 500px;
            text-align: center;
            border-radius: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close-btn:hover,
        .close-btn:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        /* Styles for the new sections */
        .wobbly-border {
            border-width: 5px;
            border-style: dashed;
            border-color: #FF00FF #FFFF00 #00FF00 #0000FF;
            transform: rotate(-2deg);
        }
        .chat-container {
            height: 250px;
            overflow-y: auto;
        }
        .chat-message {
            background-color: #f0f0f0;
            border-radius: 15px;
            padding: 10px;
            margin-bottom: 8px;
            max-width: 80%;
        }
        /* Game specific styles */
        #game-container {
            width: 100%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #ffffff;
            background-opacity: 0.8;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
            text-align: center;
        }
        .game-title {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ff69b4;
            margin-bottom: 1.5rem;
        }
        .game-controls {
            margin-top: 1rem;
            display: flex;
            gap: 1rem;
        }
        .game-button {
            background-color: #a78bfa;
            color: white;
            padding: 1rem 2rem;
            border-radius: 9999px;
            font-size: 1.25rem;
            font-weight: bold;
            transition-property: all;
            transition-duration: 300ms;
            transform: scale(1);
            cursor: pointer;
        }
        .game-button:hover {
            transform: scale(1.1);
            background-color: #8b5cf6;
        }
        .grid-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        .card {
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            background-color: #ADD8E6;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.3s ease;
            transform-style: preserve-3d;
        }
        .card.is-flipped {
            transform: rotateY(180deg);
        }
        .card-inner {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }
        .card-back {
            background-color: #FFC0CB;
            border: 2px solid #FF69B4;
        }
        .card-front {
            background-color: #98FB98;
            border: 2px solid #00FF00;
            transform: rotateY(180deg);
        }
        #rps-result, #rps-choices {
            margin-top: 1rem;
            font-size: 1.5rem;
            color: #333;
        }
        #rps-choices button {
            background-color: #FFD700;
            font-size: 2rem;
            padding: 10px 20px;
            margin: 0 5px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
        }
        #catch-canvas {
            border: 5px dashed #FF69B4;
            background-color: #e0f7fa;
        }
    </style>
</head>
<body class="flex flex-col items-center p-4 min-h-screen">
    <!-- This is the main title of the smoothie shop! -->
    <header class="text-center bg-white bg-opacity-80 p-6 rounded-3xl shadow-lg mt-8 mb-12">
        <h1 class="text-5xl md:text-6xl font-extrabold text-pink-600 drop-shadow-xl animate-bounce">
            üçì EASYFLOW 17 Smoothie Shop! ü•≠
        </h1>
        <p class="text-xl md:text-2xl text-purple-600 mt-4">
            Made with love, sparkles, and a little bit of magic! ‚ú®
        </p>
    </header>
    
    <!-- This is the container for all the main content pages -->
    <div id="main-content" class="w-full max-w-4xl p-4 md:p-8 bg-white bg-opacity-80 rounded-3xl shadow-lg">
        <h2 class="text-4xl text-center font-bold text-green-700 mb-8">My Yummy Smoothies!</h2>
        
        <!-- A grid to show off all the smoothies, it's responsive too! -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
            
            <!-- Strawberry Smoothie Card -->
            <div class="bg-pink-300 rounded-2xl shadow-md p-6 text-center transform transition-transform duration-300 hover:scale-105">
                <h3 class="text-3xl font-bold text-red-700 mb-2">The Strawberry Sparkle! üíñ</h3>
                <img src="https://placehold.co/150x150/f08080/FFFFFF?text=üçì" alt="Strawberry Smoothie" class="rounded-full mx-auto my-4 w-32 h-32 border-4 border-white">
                <p class="text-lg text-red-900">
                    Made with fresh strawberries from my garden! It's super sweet and makes you feel like royalty!
                </p>
            </div>

            <!-- Mango Smoothie Card -->
            <div class="bg-yellow-300 rounded-2xl shadow-md p-6 text-center transform transition-transform duration-300 hover:scale-105">
                <h3 class="text-3xl font-bold text-orange-700 mb-2">The Mango Sunshine! ‚òÄÔ∏è</h3>
                <img src="https://placehold.co/150x150/FFD700/FFFFFF?text=ü•≠" alt="Mango Smoothie" class="rounded-full mx-auto my-4 w-32 h-32 border-4 border-white">
                <p class="text-lg text-orange-900">
                    A tropical treat that tastes like a sunny day at the beach! Don't forget your tiny umbrella.
                </p>
            </div>

            <!-- Blueberry Smoothie Card -->
            <div class="bg-purple-300 rounded-2xl shadow-md p-6 text-center transform transition-transform duration-300 hover:scale-105">
                <h3 class="text-3xl font-bold text-indigo-700 mb-2">The Berry Blast! ü´ê</h3>
                <img src="https://placehold.co/150x150/6A5ACD/FFFFFF?text=ü´ê" alt="Blueberry Smoothie" class="rounded-full mx-auto my-4 w-32 h-32 border-4 border-white">
                <p class="text-lg text-indigo-900">
                    So many berries! It's like a magical flavor explosion in your mouth. Best served with joy!
                </p>
            </div>

            <!-- Chocolate Banana Smoothie Card -->
            <div class="bg-brown-300 rounded-2xl shadow-md p-6 text-center transform transition-transform duration-300 hover:scale-105">
                <h3 class="text-3xl font-bold text-yellow-800 mb-2">The Choco-Monkey! üçå</h3>
                <img src="https://placehold.co/150x150/DEB887/FFFFFF?text=üçå" alt="Chocolate Banana Smoothie" class="rounded-full mx-auto my-4 w-32 h-32 border-4 border-white">
                <p class="text-lg text-yellow-900">
                    Chocolate AND banana! It's my favorite combo ever. Perfect for when you're feeling silly.
                </p>
            </div>

        </div>

        <!-- Section about why these smoothies are so special! -->
        <div class="text-center mt-12 bg-white bg-opacity-80 p-6 rounded-3xl shadow-lg">
            <h3 class="text-3xl font-bold text-blue-700 mb-4">Why My Smoothies Are Awesome!</h3>
            <p class="text-xl text-blue-900">
                They're made with lots of yummy fruit and zero unhealty stuff they are super healthy, which is great! And they are made with my own special, secret recipe... Shhhh! ü§´
            </p>
        </div>

        <!-- The order section -->
        <section class="mt-12 text-center">
            <h2 class="text-4xl font-bold text-red-700 mb-6">Want a Smoothie?!</h2>
            <button id="orderButton" class="bg-yellow-400 text-yellow-900 font-bold py-4 px-8 rounded-full text-2xl shadow-xl transition-transform duration-300 transform hover:scale-110 active:scale-95">
                Click Here to Order! ‚ú®
            </button>
        </section>

        <!-- The Games and Membership buttons -->
        <div class="mt-8 flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4">
            <button onclick="showPage('games')" class="game-button">Play Games! üïπÔ∏è</button>
            <button onclick="showPage('membership')" class="game-button">Join the VIP Club! üëë</button>
        </div>
    </div>
    
    <!-- The games section (initially hidden) -->
    <section id="games-content" class="hidden mt-12 w-full max-w-4xl p-4 md:p-8 bg-yellow-200 rounded-3xl shadow-lg">
        <h2 class="text-4xl text-center font-bold text-pink-700 mb-6">Let's Play Games! üéÆ</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Game Card 1 -->
            <div class="bg-green-300 rounded-2xl shadow-md p-6 text-center transform transition-transform duration-300 hover:scale-105">
                <h3 class="text-3xl font-bold text-green-800 mb-2">Memory Match! üß†</h3>
                <img src="https://placehold.co/150x150/98FB98/FFFFFF?text=üçé" alt="Memory Match Game" class="rounded-full mx-auto my-4 w-32 h-32 border-4 border-white">
                <p class="text-lg text-green-900">
                    Tap the cards to find matching fruit emojis! Can you find them all?
                </p>
                <button onclick="loadGame('memory')" class="mt-4 bg-purple-400 text-purple-900 font-bold py-2 px-6 rounded-full shadow-md hover:scale-105">
                    Play!
                </button>
            </div>
            <!-- Game Card 2 -->
            <div class="bg-blue-300 rounded-2xl shadow-md p-6 text-center transform transition-transform duration-300 hover:scale-105">
                <h3 class="text-3xl font-bold text-blue-800 mb-2">Rock, Paper, Scissors! ‚úÇÔ∏è</h3>
                <img src="https://placehold.co/150x150/ADD8E6/FFFFFF?text=ü™®" alt="Rock Paper Scissors Game" class="rounded-full mx-auto my-4 w-32 h-32 border-4 border-white">
                <p class="text-lg text-blue-900">
                    A super fun guessing game against the computer!
                </p>
                <button onclick="loadGame('rps')" class="mt-4 bg-purple-400 text-purple-900 font-bold py-2 px-6 rounded-full shadow-md hover:scale-105">
                    Play!
                </button>
            </div>
            <!-- Game Card 3 -->
            <div class="bg-red-300 rounded-2xl shadow-md p-6 text-center transform transition-transform duration-300 hover:scale-105">
                <h3 class="text-3xl font-bold text-red-800 mb-2">Catch the Fruit! üçì</h3>
                <img src="https://placehold.co/150x150/FF69B4/FFFFFF?text=üß∫" alt="Catch the Fruit Game" class="rounded-full mx-auto my-4 w-32 h-32 border-4 border-white">
                <p class="text-lg text-red-900">
                    Move the basket to catch all the yummy smoothie ingredients!
                </p>
                <button onclick="loadGame('catch')" class="mt-4 bg-purple-400 text-purple-900 font-bold py-2 px-6 rounded-full shadow-md hover:scale-105">
                    Play!
                </button>
            </div>
        </div>
        <!-- The container for the games to be displayed -->
        <div id="game-container"></div>
        <button onclick="showPage('main')" class="game-button mt-8">Go Back</button>
    </section>

    <!-- The membership page (initially hidden) -->
    <section id="membership-content" class="hidden mt-12 w-full max-w-4xl p-4 md:p-8 bg-pink-200 rounded-3xl shadow-lg text-center">
        <h2 class="text-4xl font-bold text-purple-700 mb-6">üëë Super Duper Smoothie VIP Club! üëë</h2>
        <p class="text-2xl text-pink-800 mb-4">
            Join our special club and get awesome stuff!
        </p>
        <ul class="text-xl text-left inline-block list-disc list-inside space-y-2">
            <li>A secret smoothie recipe every month!</li>
            <li>you can get a free cookie,cake or muffin for your next order.</li>
            <li>A fun certificate to hang on your wall!</li>
            <li>A shiny VIP badge to show all your friends!</li>
        </ul>
        <button onclick="showModal('Welcome, VIP!', 'You are now an official member of the club!')" class="game-button mt-8">Join Now!</button>
        <button onclick="showPage('main')" class="game-button mt-4">Go Back</button>
    </section>

    <!-- The chatbot section -->
    <section class="mt-12 w-full max-w-lg p-6 bg-pink-100 rounded-2xl shadow-xl wobbly-border">
        <h2 class="text-4xl text-center font-bold text-purple-700 mb-4 transform -rotate-1">
            Chat with GiggleBot! ü§ñ
        </h2>
        <div id="chatBox" class="chat-container bg-white p-4 rounded-xl shadow-inner mb-4 flex flex-col justify-end">
            <div class="chat-message bg-yellow-200 self-start">
                <p>Hi! I'm GiggleBot! Ask me a silly question! üòú</p>
            </div>
        </div>
        <div class="flex items-center">
            <input type="text" id="chatInput" placeholder="What you wanna say?" class="flex-grow p-3 rounded-l-full border-2 border-green-500 focus:outline-none">
            <button id="sendButton" class="bg-blue-400 text-white font-bold p-3 rounded-r-full hover:bg-blue-500 active:bg-blue-600">
                Send!
            </button>
        </div>
    </section>

    <!-- The custom pop-up message box -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <p id="modalMessage" class="text-3xl font-bold text-pink-600 animate-pulse">‚ú® Yay! ‚ú®</p>
            <p id="modalSubMessage" class="text-xl mt-4 text-purple-700">
                Your smoothie order is being made! I'll be right there!
            </p>
            <p class="text-lg mt-2 text-green-700">
                (Maybe I'll put a little note on the bottom of the cup!)
            </p>
        </div>
    </div>

    <!-- The JavaScript part to make the buttons and chatbot work -->
    <script>
        // Get all the important things from the page
        const orderButton = document.getElementById('orderButton');
        const modal = document.getElementById('myModal');
        const closeBtn = document.getElementsByClassName('close-btn')[0];
        const modalMessage = document.getElementById('modalMessage');
        const modalSubMessage = document.getElementById('modalSubMessage');
        const gameContainer = document.getElementById('game-container');
        const chatInput = document.getElementById('chatInput');
        const sendButton = document.getElementById('sendButton');
        const chatBox = document.getElementById('chatBox');
        
        // Page content sections
        const mainContent = document.getElementById('main-content');
        const gamesContent = document.getElementById('games-content');
        const membershipContent = document.getElementById('membership-content');
        const chatbotContent = document.querySelector('section.wobbly-border');

        // This function shows our custom pop-up message
        function showModal(message, subMessage = "") {
            modalMessage.textContent = message;
            modalSubMessage.textContent = subMessage;
            modal.style.display = 'block';
        }

        // When the user clicks the order button, show the order modal
        orderButton.onclick = function() {
            showModal("‚ú® Yay! ‚ú®", "Your smoothie order is being made! I'll be right there!");
            // And also add a little message to GiggleBot's chat
            addChatMessage('You just ordered a smoothie!', 'user');
            setTimeout(() => {
                addChatMessage("Wow! Smoothie yummy!", 'GiggleBot');
            }, 1000);
        }

        // When the user clicks the "x" button, hide the modal
        closeBtn.onclick = function() {
            modal.style.display = 'none';
        }

        // When the user clicks anywhere outside the modal, hide it
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }

        // Function to add a new message to the chat
        function addChatMessage(message, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.textContent = message;
            messageDiv.classList.add('chat-message');
            if (sender === 'user') {
                messageDiv.classList.add('self-end', 'bg-blue-200');
            } else {
                messageDiv.classList.add('self-start', 'bg-yellow-200');
            }
            chatBox.appendChild(messageDiv);
            // Scroll to the bottom to see the newest message
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        // Fun and friendly AI chatbot logic
        async function getGiggleBotResponse(userMessage) {
            const systemPrompt = "You are a very silly, very friendly AI for a kid's website. Your name is GiggleBot. You love smoothies and games. Your responses must be short, playful, and fun. You must tell silly jokes or riddles related to fruit, smoothies, or food. You can't answer complex questions, just silly ones.";
            const apiKey = ""
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            const payload = {
                contents: [{ parts: [{ text: userMessage }] }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };
            
            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                const text = result?.candidates?.[0]?.content?.parts?.[0]?.text || "GiggleBot is having a nap right now!";
                return text;
            } catch (error) {
                console.error("GiggleBot API error:", error);
                return "Uh oh, my circuits are ticklish! Try again!";
            }
        }
        
        // When the user clicks the "Send!" button
        sendButton.onclick = async function() {
            const userMessage = chatInput.value.trim();
            if (userMessage) {
                addChatMessage(userMessage, 'user');
                chatInput.value = ''; // Clear the input field
                
                // Show a "thinking" message from GiggleBot
                const thinkingMessage = "GiggleBot is thinking...";
                addChatMessage(thinkingMessage, 'GiggleBot');
                
                const aiResponse = await getGiggleBotResponse(userMessage);
                
                // Remove the "thinking" message and add the real response
                const messages = chatBox.getElementsByClassName('chat-message');
                messages[messages.length - 1].remove();
                addChatMessage(aiResponse, 'GiggleBot');
            }
        }

        // Also make the "Enter" key work for sending messages
        chatInput.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                sendButton.click();
            }
        });

        // Function to show only one section at a time
        function showPage(pageName) {
            mainContent.classList.add('hidden');
            gamesContent.classList.add('hidden');
            membershipContent.classList.add('hidden');
            chatbotContent.classList.add('hidden');

            if (pageName === 'main') {
                mainContent.classList.remove('hidden');
                chatbotContent.classList.remove('hidden');
                gameContainer.innerHTML = '';
            } else if (pageName === 'games') {
                gamesContent.classList.remove('hidden');
                chatbotContent.classList.remove('hidden');
            } else if (pageName === 'membership') {
                membershipContent.classList.remove('hidden');
                chatbotContent.classList.remove('hidden');
            }
        }

        // This function will load and start a game when a button is clicked
        function loadGame(gameName) {
            gameContainer.innerHTML = ''; // Clear the game area first
            if (gameName === 'memory') {
                loadMemoryGame();
            } else if (gameName === 'rps') {
                loadRPSGame();
            } else if (gameName === 'catch') {
                loadCatchGame();
            }
        }

        // --- Memory Match Game Logic ---
        function loadMemoryGame() {
            const fruits = ['üçì', 'üçå', 'ü•≠', 'ü´ê', 'üçç', 'üçâ', 'ü•ù', 'üçá'];
            const gameEmojis = [...fruits, ...fruits].sort(() => Math.random() - 0.5);
            let flippedCards = [];
            let matchedPairs = 0;
            let canFlip = true;
            
            const gameHtml = `
                <h3 class="game-title">Memory Match!</h3>
                <div class="grid-container max-w-sm">
                    ${gameEmojis.map((emoji, index) => `
                        <div class="card" data-index="${index}" data-emoji="${emoji}">
                            <div class="card-inner">
                                <div class="card-face card-back"></div>
                                <div class="card-face card-front">${emoji}</div>
                            </div>
                        </div>
                    `).join('')}
                </div>
                <button onclick="loadGame('memory')" class="game-button mt-4">Play Again!</button>
            `;
            gameContainer.innerHTML = gameHtml;
            
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => card.addEventListener('click', flipCard));
            
            function flipCard() {
                if (!canFlip || flippedCards.length === 2 || this.classList.contains('is-flipped')) {
                    return;
                }
                
                this.classList.add('is-flipped');
                flippedCards.push(this);
                
                if (flippedCards.length === 2) {
                    canFlip = false;
                    setTimeout(checkForMatch, 1000);
                }
            }
            
            function checkForMatch() {
                const [card1, card2] = flippedCards;
                const isMatch = card1.dataset.emoji === card2.dataset.emoji;
                
                if (isMatch) {
                    matchedPairs++;
                    card1.removeEventListener('click', flipCard);
                    card2.removeEventListener('click', flipCard);
                } else {
                    card1.classList.remove('is-flipped');
                    card2.classList.remove('is-flipped');
                }
                
                flippedCards = [];
                canFlip = true;
                
                if (matchedPairs === fruits.length) {
                    setTimeout(() => showModal('You Won!', 'You matched all the smoothie ingredients!'), 500);
                }
            }
        }

        // --- Rock, Paper, Scissors Game Logic ---
        function loadRPSGame() {
            const choices = ['ü™®', 'üìÑ', '‚úÇÔ∏è'];
            const gameHtml = `
                <h3 class="game-title">Rock, Paper, Scissors!</h3>
                <div class="text-center">
                    <p id="rps-result" class="text-3xl font-bold">Choose your weapon!</p>
                    <div id="rps-choices" class="mt-4 flex justify-center space-x-4">
                        <button onclick="playRPS('ü™®')">ü™®</button>
                        <button onclick="playRPS('üìÑ')">üìÑ</button>
                        <button onclick="playRPS('‚úÇÔ∏è')">‚úÇÔ∏è</button>
                    </div>
                </div>
                <button onclick="loadGame('rps')" class="game-button mt-4">Play Again!</button>
            `;
            gameContainer.innerHTML = gameHtml;
        }
        
        function playRPS(playerChoice) {
            const choices = ['ü™®', 'üìÑ', '‚úÇÔ∏è'];
            const computerChoice = choices[Math.floor(Math.random() * choices.length)];
            let result = '';

            if (playerChoice === computerChoice) {
                result = "It's a tie!";
            } else if (
                (playerChoice === 'ü™®' && computerChoice === '‚úÇÔ∏è') ||
                (playerChoice === 'üìÑ' && computerChoice === 'ü™®') ||
                (playerChoice === '‚úÇÔ∏è' && computerChoice === 'üìÑ')
            ) {
                result = "You win! Yay!";
            } else {
                result = "You lose! Awww.";
            }

            document.getElementById('rps-result').textContent = `You chose ${playerChoice}, I chose ${computerChoice}. ${result}`;
        }

        // --- Catch the Fruit Game Logic ---
        function loadCatchGame() {
            const gameHtml = `
                <h3 class="game-title">Catch the Fruit!</h3>
                <canvas id="catch-canvas" width="400" height="400"></canvas>
                <div class="mt-4 text-2xl font-bold">
                    Score: <span id="catch-score">0</span>
                </div>
                <button onclick="loadGame('catch')" class="game-button mt-4">Play Again!</button>
            `;
            gameContainer.innerHTML = gameHtml;

            const canvas = document.getElementById('catch-canvas');
            const ctx = canvas.getContext('2d');
            const scoreDisplay = document.getElementById('catch-score');
            
            let basketX = canvas.width / 2 - 25;
            const basketWidth = 50;
            const basketHeight = 10;
            let fruits = [];
            let score = 0;

            function update() {
                // Clear the canvas
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                // Draw the basket
                ctx.fillStyle = '#ff69b4';
                ctx.fillRect(basketX, canvas.height - basketHeight - 10, basketWidth, basketHeight);

                // Update and draw fruits
                for (let i = 0; i < fruits.length; i++) {
                    let fruit = fruits[i];
                    fruit.y += fruit.speed;
                    ctx.font = '24px Comic Neue';
                    ctx.fillText(fruit.emoji, fruit.x, fruit.y);

                    // Check for collision
                    if (fruit.y + 24 >= canvas.height - basketHeight - 10 && fruit.x > basketX && fruit.x < basketX + basketWidth) {
                        score++;
                        scoreDisplay.textContent = score;
                        fruits.splice(i, 1);
                        i--;
                    }
                    
                    // Remove if missed
                    if (fruit.y > canvas.height) {
                        fruits.splice(i, 1);
                        i--;
                    }
                }
                
                // Add new fruit randomly
                if (Math.random() < 0.02) {
                    const fruitEmojis = ['üçì', 'üçå', 'ü•≠', 'ü´ê', 'üçç', 'üçâ', 'ü•ù', 'üçá'];
                    fruits.push({
                        x: Math.random() * (canvas.width - 24),
                        y: 0,
                        speed: Math.random() * 2 + 1,
                        emoji: fruitEmojis[Math.floor(Math.random() * fruitEmojis.length)]
                    });
                }

                requestAnimationFrame(update);
            }

            // Move the basket with mouse or touch
            canvas.addEventListener('mousemove', (e) => {
                basketX = e.offsetX - basketWidth / 2;
            });
            canvas.addEventListener('touchmove', (e) => {
                e.preventDefault();
                const touch = e.touches[0];
                const rect = canvas.getBoundingClientRect();
                const scaleX = canvas.width / rect.width;
                basketX = (touch.clientX - rect.left) * scaleX - basketWidth / 2;
            });

            requestAnimationFrame(update);
        }

        // Initial call to set up the window's event handler
        window.onload = function() {
            // Nothing to do on load right now, but good practice to keep!
        }
    </script>
</body>
</html>
